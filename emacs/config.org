#+startup: overview
**** exec path
     brew installs it's binaries to a non-standard path, emacs needs
     to be told to look for them
     #+begin_src emacs-lisp
       (add-to-list 'exec-path "/usr/local/bin")
       (add-to-list 'exec-path "~/.local/bin")
       (add-to-list 'exec-path "~/.local/share/brew/bin")
       (add-to-list 'exec-path "~/.nix-profile/bin")
     #+end_src
**** load theme
     #+begin_src emacs-lisp
     (use-package cyberpunk-theme
	:init(load-theme 'cyberpunk t))
     (fringe-mode 0)
     #+end_src
**** font
     #+begin_src emacs-lisp
     (add-to-list 'default-frame-alist '(font . "SF Mono-14" ))
     #+end_src
**** garbage collection magic hack
does magic on the GC values to make start-up fast but the GC values
not ridiculous.
#+begin_src emacs-lisp
    (use-package gcmh
      :diminish gcmh-mode
      :init(gcmh-mode +1))
#+end_src
**** evil
     #+begin_src emacs-lisp
       (use-package evil
	 :demand t
	 :config
	(setq evil-auto-indent t
		evil-ex-complete-emacs-commands t
		evil-undo-system 'undo-tree
		evil-undo-function 'undo-tree-undo
		evil-redo-function 'undo-tree-redo
		evil-magic 'very-magic
		evil-search-module 'evil-search
		evil-shift-width 2
		evil-toggle-key "C-M-z"
		evil-want-C-w-delete nil
		evil-want-C-w-in-emacs-state nil
		evil-want-fine-undo t
		evil-normal-state-cursor '("#8a8a8a" box)
		evil-operator-state-cursor '("#8a8a8a" evil-half-cursor)
		evil-replace-state-cursor '("#884444" box)
		evil-insert-state-cursor `("#8a8a8a" bar)
		evil-emacs-state-cursor `("#5f8700" bar))
	 :init
	 (setq evil-want-keybinding nil)
	 (evil-mode 1))
       (use-package evil-collection
	 :straight(evil-collection :host github :repo "alex-eyre/evil-collection")
	 :requires evil
	 :config(setq evil-collection-setup-minibuffer t)
	 :init(evil-collection-init))
       (use-package evil-magit
	 :requires evil
	 :init(require 'evil-magit)
	 :config(setq evil-magit-state 'normal))

       (use-package evil-snipe
	 :diminish evil-snipe-mode
	 :diminish evil-snipe-override-mode
	 :diminish evil-snipe-local-mode
	 :requires evil
	 :hook(magit-mode . turn-off-evil-snipe-override-mode)
	 :init
	 (evil-snipe-mode +1)
	 (evil-snipe-override-mode +1))
     #+end_src
**** disable splash screen
#+begin_src emacs-lisp
  (setq inhibit-startup-message t) 
  (setq initial-scratch-message nil)
#+end_src
**** org tweaks
#+BEGIN_SRC emacs-lisp
(require 'org-tempo)
#+END_SRC
**** misc utils.
***** restart emacs
      #+begin_src emacs-lisp
      (use-package restart-emacs
:commands(restart-emacs))
      #+end_src
**** line numbers
     #+begin_src emacs-lisp
     (defun display-line-numbers/relative ()
  "Relative"
  (interactive)
  (menu-bar--display-line-numbers-mode-relative))

(defun display-line-numbers/absolute ()
  "Absolute"
  (interactive)
  (menu-bar--display-line-numbers-mode-absolute))
(use-package display-line-numbers
  :hook
  (evil-insert-state-exit . (lambda () (display-line-numbers/relative)))
  (evil-insert-state-entry . (lambda () (display-line-numbers/absolute)))
  (prog-mode . display-line-numbers-mode)
  (org-mode . (lambda () (display-line-numbers-mode -1))))
     #+end_src
**** pdf
     #+begin_src emacs-lisp
     (use-package pdf-tools
  :load-path "site-lisp/pdf-tools/lisp"
  :magic ("%PDF" . pdf-view-mode)
  :config
  (pdf-tools-install :no-query))
     #+end_src

**** modeline
     #+begin_src emacs-lisp
     (use-package telephone-line
  :config
  (setq telephone-line-lhs
  	'((evil   . (telephone-line-evil-tag-segment))
  	  (accent . (telephone-line-vc-segment
  		     telephone-line-erc-modified-channels-segment
  		     telephone-line-process-segment))
  	  (nil    . (telephone-line-buffer-segment)))
  	telephone-line-rhs
  	'((nil    . (telephone-line-misc-info-segment))
  	  (accent . (telephone-line-major-mode-segment))
  	  (evil   . (telephone-line-airline-position-segment))))
  (telephone-line-mode 1))
     #+end_src

**** languages
***** haskell
      #+begin_src emacs-lisp
      (use-package haskell-mode
        :hook(haskell-mode . interactive-haskell-mode)
	:mode "\\.hs\\'"
	:interpreter "ghc")
      #+end_src
**** ivy & co.
#+begin_src emacs-lisp
    (use-package ivy
      :bind(:map ivy-minibuffer-map
		 ("C-k" . ivy-previous-line)
		 ("C-j" . ivy-next-line)))
    (use-package counsel
      :init(counsel-mode 1))
    (use-package swiper
      :config
      (define-key ivy-minibuffer-map (kbd "<ESC>") 'minibuffer-keyboard-quit)
      (define-key swiper-map (kbd "<ESC>") 'minibuffer-keyboard-quit)
      :bind(("C-s" . swiper)))
#+end_src
**** ace window
#+begin_src emacs-lisp
(use-package ace-window
  :config(setq aw-keys '(?a ?o?e ?u ?i))
  :bind("M-o" . ace-window))
#+end_src
**** apheleia
     #+begin_src emacs-lisp
       (use-package apheleia
	 :straight(:host github :repo "raxod502/apheleia")
	 :hook(prog-mode . apheleia-mode))
     #+end_src
     
**** auto revert mode
     #+begin_src emacs-lisp
     (global-auto-revert-mode +1)
     #+end_src

**** zygospore
     #+begin_src emacs-lisp
       (use-package zygospore
	 :bind(("C-x &" . zygospore-toggle-delete-other-windows)))
     #+end_src
**** window management
     #+begin_src emacs-lisp
(global-set-key (kbd "C-x [") 'split-window-below)
(global-set-key (kbd "C-x {") 'split-window-right)
     #+end_src
